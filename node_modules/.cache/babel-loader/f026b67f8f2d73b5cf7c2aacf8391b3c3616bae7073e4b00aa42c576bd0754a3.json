{"ast":null,"code":"import _slicedToArray from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState}from'react';import styled from'styled-components';import{useWeek}from'../../../../../hooks/useWeek';import{CalendarModal}from'./patch-modal/modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DayContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 128px;\\n  height: 26px;\\n\"])));var WeekDateContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 30px;\\n  display: flex;\\n  flex-direction: row;\\n\"])));var WeekContentContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  height: 94px;\\n\"])));var DateText=styled.text(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  font-family: 'Spoqa Han Sans Neo', 'Apple SD Gothic Neo';\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 16px;\\n  line-height: 24px;\\n\"])));var ScheduleBox=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  margin-top: 2px;\\n  border-radius: 8px;\\n  background: #5500dd;\\n  position: absolute;\\n  height: 26px;\\n  text-align: left;\\n  justify-content: center;\\n  align-item: center;\\n  color: #ffffff;\\n  font-family: 'Spoqa Han Sans Neo', 'Apple SD Gothic Neo';\\n  font-style: normal;\\n  font-weight: 700;\\n  font-size: 14px;\\n  line-height: 26px;\\n  text-align: left;\\n  padding-left: 4px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  box-sizing: border-box;\\n  border: 1px solid;\\n\"])));var Day=function Day(props){var index=props.index,date=props.date,currentYear=props.currentYear,currentMonth=props.currentMonth;return/*#__PURE__*/_jsx(DayContainer,{children:/*#__PURE__*/_jsx(DateText,{style:{color:date.month!==currentMonth?'#c1c2c3':index===0?'#D40030':'#000000'},children:date.date})});};// const scheduleWidth = [0, 120, 248, 376, 504, 632, 760, 888]\nvar scheduleWidth=[0,124,252,380,508,636,764,892];export var WeekView=function WeekView(props){var week=props.week,year=props.year,month=props.month,calendar_list=props.calendar_list,refresh=props.refresh,setRefresh=props.setRefresh;var _useWeek=useWeek(week,calendar_list,year,month),weekData=_useWeek.weekData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(-1),_useState4=_slicedToArray(_useState3,2),currentIndex=_useState4[0],setCurrentIndex=_useState4[1];var openModal=function openModal(id){setShowModal(true);setCurrentIndex(calendar_list.findIndex(function(calendar){return calendar.church_calendar_id===id;}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(WeekDateContainer,{children:week&&week.map(function(day,index){return/*#__PURE__*/_jsx(Day,{index:index,date:day,currentYear:year,currentMonth:month},index);})}),/*#__PURE__*/_jsx(WeekContentContainer,{children:weekData&&weekData.map(function(schedule,index){return/*#__PURE__*/_jsx(ScheduleBox,{onClick:function onClick(){return openModal(schedule.church_calendar_id);},style:{marginLeft:schedule.x*128+2,marginTop:schedule.y*26+schedule.y*2,width:scheduleWidth[schedule.length],height:26,backgroundColor:schedule.end_date===''?'#ffffff':schedule.is_current_month?'#5500dd':'#D8C2F9',color:schedule.end_date!==''?'#ffffff':schedule.is_current_month?'#5500dd':'#D8C2F9',borderColor:schedule.is_current_month?'#5500dd':'#D8C2F9'},children:schedule.title});})}),showModal&&/*#__PURE__*/_jsx(CalendarModal,{refresh:refresh,setRefresh:setRefresh,onCloseModal:function onCloseModal(){return setShowModal(false);},schedule:calendar_list[currentIndex]})]});};","map":{"version":3,"names":["React","useState","styled","useWeek","CalendarModal","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DayContainer","div","_templateObject","_taggedTemplateLiteral","WeekDateContainer","_templateObject2","WeekContentContainer","_templateObject3","DateText","text","_templateObject4","ScheduleBox","_templateObject5","Day","props","index","date","currentYear","currentMonth","children","style","color","month","scheduleWidth","WeekView","week","year","calendar_list","refresh","setRefresh","_useWeek","weekData","_useState","_useState2","_slicedToArray","showModal","setShowModal","_useState3","_useState4","currentIndex","setCurrentIndex","openModal","id","findIndex","calendar","church_calendar_id","map","day","schedule","onClick","marginLeft","x","marginTop","y","width","length","height","backgroundColor","end_date","is_current_month","borderColor","title","onCloseModal"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/admin-pages/admin-nav/admin-schedule/calendar/view/week.tsx"],"sourcesContent":["import React, { Dispatch, SetStateAction, useEffect, useState } from 'react'\nimport { Date } from '../../../../../hooks/useMonth'\nimport styled from 'styled-components'\nimport { CalendarList, useWeek } from '../../../../../hooks/useWeek'\nimport { CalendarModal } from './patch-modal/modal'\n\nconst DayContainer = styled.div`\n  width: 128px;\n  height: 26px;\n`\n\nconst WeekDateContainer = styled.div`\n  height: 30px;\n  display: flex;\n  flex-direction: row;\n`\nconst WeekContentContainer = styled.div`\n  height: 94px;\n`\nconst DateText = styled.text`\n  font-family: 'Spoqa Han Sans Neo', 'Apple SD Gothic Neo';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 24px;\n`\n\nconst ScheduleBox = styled.div`\n  margin-top: 2px;\n  border-radius: 8px;\n  background: #5500dd;\n  position: absolute;\n  height: 26px;\n  text-align: left;\n  justify-content: center;\n  align-item: center;\n  color: #ffffff;\n  font-family: 'Spoqa Han Sans Neo', 'Apple SD Gothic Neo';\n  font-style: normal;\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 26px;\n  text-align: left;\n  padding-left: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  box-sizing: border-box;\n  border: 1px solid;\n`\n\ninterface DayProps {\n  index: number\n  date: Date\n  currentYear: number\n  currentMonth: number\n}\ninterface WeekViewProps {\n  week: Array<Date>\n  year: number\n  month: number\n  calendar_list: Array<CalendarList>\n  refresh: boolean\n  setRefresh: Dispatch<SetStateAction<boolean>>\n}\n\nconst Day = (props: DayProps) => {\n  const { index, date, currentYear, currentMonth } = props\n  return (\n    <DayContainer>\n      <DateText\n        style={{\n          color:\n            date.month !== currentMonth\n              ? '#c1c2c3'\n              : index === 0\n                ? '#D40030'\n                : '#000000',\n        }}\n      >\n        {date.date}\n      </DateText>\n    </DayContainer>\n  )\n}\n\n// const scheduleWidth = [0, 120, 248, 376, 504, 632, 760, 888]\nconst scheduleWidth = [0, 124, 252, 380, 508, 636, 764, 892]\nexport const WeekView = (props: WeekViewProps) => {\n  const { week, year, month, calendar_list, refresh, setRefresh } = props\n  const { weekData } = useWeek(week, calendar_list, year, month)\n  const [showModal, setShowModal] = useState(false)\n  const [currentIndex, setCurrentIndex] = useState(-1)\n  const openModal = (id: string) => {\n    setShowModal(true)\n    setCurrentIndex(\n      calendar_list.findIndex(calendar => calendar.church_calendar_id === id)\n    )\n  }\n  return (\n    <>\n      <WeekDateContainer>\n        {week &&\n          week.map((day, index) => {\n            return (\n              <Day\n                key={index}\n                index={index}\n                date={day}\n                currentYear={year}\n                currentMonth={month}\n              />\n            )\n          })}\n      </WeekDateContainer>\n\n      <WeekContentContainer>\n        {weekData &&\n          weekData.map((schedule, index) => {\n            return (\n              <ScheduleBox\n                onClick={() => openModal(schedule.church_calendar_id)}\n                style={{\n                  marginLeft: schedule.x * 128 + 2,\n                  marginTop: schedule.y * 26 + schedule.y * 2,\n                  width: scheduleWidth[schedule.length],\n                  height: 26,\n                  backgroundColor:\n                    schedule.end_date === ''\n                      ? '#ffffff'\n                      : schedule.is_current_month\n                        ? '#5500dd'\n                        : '#D8C2F9',\n                  color:\n                    schedule.end_date !== ''\n                      ? '#ffffff'\n                      : schedule.is_current_month\n                        ? '#5500dd'\n                        : '#D8C2F9',\n                  borderColor: schedule.is_current_month\n                    ? '#5500dd'\n                    : '#D8C2F9',\n                }}\n              >\n                {schedule.title}\n              </ScheduleBox>\n            )\n          })}\n      </WeekContentContainer>\n\n      {showModal && (\n        <CalendarModal\n          refresh={refresh}\n          setRefresh={setRefresh}\n          onCloseModal={() => setShowModal(false)}\n          schedule={calendar_list[currentIndex]}\n        />\n      )}\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}