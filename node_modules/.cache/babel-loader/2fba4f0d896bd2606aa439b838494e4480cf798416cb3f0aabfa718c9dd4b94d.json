{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var baseURL='http://dev-api.jooda.org/api/v1/';// const baseURL = 'http://localhost:8000/api/v1/'\n// const baseURL = 'https://api.jooda.org/api/v1/'\nexport var instance=axios.create({baseURL:baseURL});instance.interceptors.response.use(function(response){return response;},function(error){return Promise.reject(error.response.data.error_code);});export var setAuthToken=function setAuthToken(token){localStorage.setItem('token',token);instance.defaults.headers.common['Authorization']=token;};export var LogIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(idData,pwData){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return instance.post('administrators/accounts/login/',{id:idData,password:pwData});case 3:response=_context.sent;setAuthToken(response.data.payload.admin_account_info.authorization_token);return _context.abrupt(\"return\",response.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0.response.data.error_code);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function LogIn(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["axios","baseURL","instance","create","interceptors","response","use","error","Promise","reject","data","error_code","setAuthToken","token","localStorage","setItem","defaults","headers","common","LogIn","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","idData","pwData","wrap","_callee$","_context","prev","next","post","id","password","sent","payload","admin_account_info","authorization_token","abrupt","t0","console","log","stop","_x","_x2","apply","arguments"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/api/index.tsx"],"sourcesContent":["import axios from 'axios'\n\nconst baseURL = 'http://dev-api.jooda.org/api/v1/'\n// const baseURL = 'http://localhost:8000/api/v1/'\n// const baseURL = 'https://api.jooda.org/api/v1/'\n\nexport const instance = axios.create({\n  baseURL,\n})\n\ninstance.interceptors.response.use(\n  response => {\n    return response\n  },\n  error => {\n    return Promise.reject(error.response.data.error_code)\n  }\n)\n\nexport const setAuthToken = (token: string): void => {\n  localStorage.setItem('token', token)\n  instance.defaults.headers.common['Authorization'] = token\n}\n\nexport const LogIn = async (idData: string, pwData: string) => {\n  try {\n    const response = await instance.post('administrators/accounts/login/', {\n      id: idData,\n      password: pwData,\n    })\n    setAuthToken(response.data.payload.admin_account_info.authorization_token)\n\n    return response.data\n  } catch (error: any) {\n    console.log(error.response.data.error_code)\n  }\n}\n"],"mappings":"wRAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,GAAM,CAAAC,OAAO,CAAG,kCAAkC,CAClD;AACA;AAEA,MAAO,IAAM,CAAAC,QAAQ,CAAGF,KAAK,CAACG,MAAM,CAAC,CACnCF,OAAO,CAAPA,OACF,CAAC,CAAC,CAEFC,QAAQ,CAACE,YAAY,CAACC,QAAQ,CAACC,GAAG,CAChC,SAAAD,QAAQ,CAAI,CACV,MAAO,CAAAA,QAAQ,CACjB,CAAC,CACD,SAAAE,KAAK,CAAI,CACP,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAACF,QAAQ,CAACK,IAAI,CAACC,UAAU,CAAC,CACvD,CAAC,CACF,CAED,MAAO,IAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAa,CAAW,CACnDC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,KAAK,CAAC,CACpCX,QAAQ,CAACc,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAGL,KAAK,CAC3D,CAAC,CAED,MAAO,IAAM,CAAAM,KAAK,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAc,CAAEC,MAAc,MAAArB,QAAA,QAAAiB,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE/B,CAAA7B,QAAQ,CAAC8B,IAAI,CAAC,gCAAgC,CAAE,CACrEC,EAAE,CAAER,MAAM,CACVS,QAAQ,CAAER,MACZ,CAAC,CAAC,QAHIrB,QAAQ,CAAAwB,QAAA,CAAAM,IAAA,CAIdvB,YAAY,CAACP,QAAQ,CAACK,IAAI,CAAC0B,OAAO,CAACC,kBAAkB,CAACC,mBAAmB,CAAC,QAAAT,QAAA,CAAAU,MAAA,UAEnElC,QAAQ,CAACK,IAAI,SAAAmB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAEpBY,OAAO,CAACC,GAAG,CAACb,QAAA,CAAAW,EAAA,CAAMnC,QAAQ,CAACK,IAAI,CAACC,UAAU,CAAC,0BAAAkB,QAAA,CAAAc,IAAA,MAAAnB,OAAA,gBAE9C,kBAZY,CAAAL,KAAKA,CAAAyB,EAAA,CAAAC,GAAA,SAAAzB,IAAA,CAAA0B,KAAA,MAAAC,SAAA,OAYjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}