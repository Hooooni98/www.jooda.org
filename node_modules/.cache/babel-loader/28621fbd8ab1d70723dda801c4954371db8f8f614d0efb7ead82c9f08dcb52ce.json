{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nexport const usePage = props => {\n  _s();\n  const {\n    max_page\n  } = props;\n  const [maxPage, setMaxPage] = useState(max_page);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageList, setPageList] = useState([1, 2, 3, 4, 5, 6, 7, 8, 9]);\n  const isOverNine = useRef(false);\n  useEffect(() => {\n    if (!isOverNine.current && maxPage !== 0) {\n      setPageList(pageList.slice(0, maxPage));\n    } else {\n      setPageList([1, 2, 3, 4, 5, 6, 7, 8, 9]);\n    }\n  }, [maxPage]);\n  const getPrevPage = () => {\n    if (currentPage !== 1) {\n      setCurrentPage(currentPage - 1);\n      if (isOverNine.current && pageList[0] > 1 && currentPage <= pageList[4]) {\n        setPageList([pageList[0] - 1].concat(pageList.slice(0, pageList.length - 1)));\n      }\n    }\n  };\n  const getNextPage = () => {\n    if (currentPage !== maxPage) {\n      setCurrentPage(currentPage + 1);\n      if (isOverNine.current && pageList[8] < maxPage && pageList[4] <= currentPage) {\n        setPageList(pageList.slice(1, 9).concat([pageList[8] + 1]));\n      }\n    }\n  };\n  const clickPage = index => {\n    if (currentPage === index) {\n      return;\n    }\n    if (!isOverNine.current && maxPage !== 0) {\n      setCurrentPage(index);\n    } else {\n      var currentMaxPage = index + 4;\n      var currentMinPage = index - 4;\n      if (maxPage < currentMaxPage) {\n        currentMinPage = currentMinPage - (currentMaxPage - maxPage);\n        currentMaxPage = maxPage;\n      } else if (currentMinPage < 1) {\n        currentMaxPage = 9;\n        currentMinPage = 1;\n      }\n      const result = [];\n      for (let i = currentMinPage; i <= currentMaxPage; i++) {\n        result.push(i);\n      }\n      setPageList(result);\n      setCurrentPage(index);\n    }\n  };\n  return {\n    pageList,\n    setMaxPage,\n    getPrevPage,\n    getNextPage,\n    clickPage\n  };\n};\n_s(usePage, \"0IpgOyMeTv8YhRaYnw3fBYhoqDg=\");","map":{"version":3,"names":["useEffect","useRef","useState","usePage","props","_s","max_page","maxPage","setMaxPage","currentPage","setCurrentPage","pageList","setPageList","isOverNine","current","slice","getPrevPage","concat","length","getNextPage","clickPage","index","currentMaxPage","currentMinPage","result","i","push"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/hooks/usePage.ts"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nexport const usePage = (props:any) => {\n    const {max_page} = props\n    const [maxPage, setMaxPage] = useState(max_page);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [pageList, setPageList] = useState<Array<number>>([1, 2, 3, 4, 5, 6, 7, 8, 9])\n    const isOverNine = useRef<boolean>(false)\n    \n    useEffect(() => {\n        if (!isOverNine.current && maxPage !== 0) {\n          setPageList(pageList.slice(0,maxPage))\n        } else {\n          setPageList([1, 2, 3, 4, 5, 6, 7, 8, 9])\n        }\n      },[maxPage])\n\n\n      const getPrevPage = () => {\n        if (currentPage !== 1) {\n          setCurrentPage(currentPage - 1)\n          if (isOverNine.current && pageList[0] > 1 && currentPage <= pageList[4]) {\n            setPageList([pageList[0]-1].concat(pageList.slice(0,pageList.length-1)))\n          }\n        }\n      }\n      const getNextPage = () => {\n        if (currentPage !== maxPage) {\n          setCurrentPage(currentPage + 1)\n          if (isOverNine.current && pageList[8] < maxPage && pageList[4] <= currentPage) {\n            setPageList(pageList.slice(1, 9).concat([pageList[8] + 1]))\n          }\n        }\n      }\n      const clickPage = (index: number) => {\n        if (currentPage === index) {\n          return\n        }\n        if (!isOverNine.current && maxPage !== 0) {\n          setCurrentPage(index)\n        } else {\n          var currentMaxPage = index + 4\n          var currentMinPage = index - 4\n          if (maxPage < currentMaxPage) {\n            currentMinPage = currentMinPage - (currentMaxPage - maxPage)\n            currentMaxPage = maxPage\n          }\n          else if (currentMinPage < 1) {\n            currentMaxPage = 9\n            currentMinPage = 1\n          }\n          const result = [];\n          for (let i = currentMinPage; i <= currentMaxPage; i++) {\n            result.push(i);\n          }\n          setPageList(result)\n          setCurrentPage(index)\n        }\n      }\n    \n    return {pageList,setMaxPage, getPrevPage, getNextPage, clickPage}\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,OAAO,MAAMC,OAAO,GAAIC,KAAS,IAAK;EAAAC,EAAA;EAClC,MAAM;IAACC;EAAQ,CAAC,GAAGF,KAAK;EACxB,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAACI,QAAQ,CAAC;EAChD,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAgB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACpF,MAAMW,UAAU,GAAGZ,MAAM,CAAU,KAAK,CAAC;EAEzCD,SAAS,CAAC,MAAM;IACZ,IAAI,CAACa,UAAU,CAACC,OAAO,IAAIP,OAAO,KAAK,CAAC,EAAE;MACxCK,WAAW,CAACD,QAAQ,CAACI,KAAK,CAAC,CAAC,EAACR,OAAO,CAAC,CAAC;IACxC,CAAC,MAAM;MACLK,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1C;EACF,CAAC,EAAC,CAACL,OAAO,CAAC,CAAC;EAGZ,MAAMS,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIP,WAAW,KAAK,CAAC,EAAE;MACrBC,cAAc,CAACD,WAAW,GAAG,CAAC,CAAC;MAC/B,IAAII,UAAU,CAACC,OAAO,IAAIH,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAIF,WAAW,IAAIE,QAAQ,CAAC,CAAC,CAAC,EAAE;QACvEC,WAAW,CAAC,CAACD,QAAQ,CAAC,CAAC,CAAC,GAAC,CAAC,CAAC,CAACM,MAAM,CAACN,QAAQ,CAACI,KAAK,CAAC,CAAC,EAACJ,QAAQ,CAACO,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC;MAC1E;IACF;EACF,CAAC;EACD,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIV,WAAW,KAAKF,OAAO,EAAE;MAC3BG,cAAc,CAACD,WAAW,GAAG,CAAC,CAAC;MAC/B,IAAII,UAAU,CAACC,OAAO,IAAIH,QAAQ,CAAC,CAAC,CAAC,GAAGJ,OAAO,IAAII,QAAQ,CAAC,CAAC,CAAC,IAAIF,WAAW,EAAE;QAC7EG,WAAW,CAACD,QAAQ,CAACI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACE,MAAM,CAAC,CAACN,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC7D;IACF;EACF,CAAC;EACD,MAAMS,SAAS,GAAIC,KAAa,IAAK;IACnC,IAAIZ,WAAW,KAAKY,KAAK,EAAE;MACzB;IACF;IACA,IAAI,CAACR,UAAU,CAACC,OAAO,IAAIP,OAAO,KAAK,CAAC,EAAE;MACxCG,cAAc,CAACW,KAAK,CAAC;IACvB,CAAC,MAAM;MACL,IAAIC,cAAc,GAAGD,KAAK,GAAG,CAAC;MAC9B,IAAIE,cAAc,GAAGF,KAAK,GAAG,CAAC;MAC9B,IAAId,OAAO,GAAGe,cAAc,EAAE;QAC5BC,cAAc,GAAGA,cAAc,IAAID,cAAc,GAAGf,OAAO,CAAC;QAC5De,cAAc,GAAGf,OAAO;MAC1B,CAAC,MACI,IAAIgB,cAAc,GAAG,CAAC,EAAE;QAC3BD,cAAc,GAAG,CAAC;QAClBC,cAAc,GAAG,CAAC;MACpB;MACA,MAAMC,MAAM,GAAG,EAAE;MACjB,KAAK,IAAIC,CAAC,GAAGF,cAAc,EAAEE,CAAC,IAAIH,cAAc,EAAEG,CAAC,EAAE,EAAE;QACrDD,MAAM,CAACE,IAAI,CAACD,CAAC,CAAC;MAChB;MACAb,WAAW,CAACY,MAAM,CAAC;MACnBd,cAAc,CAACW,KAAK,CAAC;IACvB;EACF,CAAC;EAEH,OAAO;IAACV,QAAQ;IAACH,UAAU;IAAEQ,WAAW;IAAEG,WAAW;IAAEC;EAAS,CAAC;AACrE,CAAC;AAAAf,EAAA,CA3DYF,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}