{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var baseURL='http://dev-api.jooda.org/api/v1/';// const baseURL = 'http://localhost:8000/api/v1/'\n// const baseURL = 'https://api.jooda.org/api/v1/'\nexport var instance=axios.create({baseURL:baseURL});export var setAuthToken=function setAuthToken(token){localStorage.setItem('token',token);instance.defaults.headers.common['Authorization']=token;};export var LogIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(idData,pwData){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return instance.post('administrators/accounts/login/',{id:idData,password:pwData});case 3:response=_context.sent;setAuthToken(response.data.payload.admin_account_info.authorization_token);return _context.abrupt(\"return\",response.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function LogIn(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["axios","baseURL","instance","create","setAuthToken","token","localStorage","setItem","defaults","headers","common","LogIn","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","idData","pwData","response","wrap","_callee$","_context","prev","next","post","id","password","sent","data","payload","admin_account_info","authorization_token","abrupt","t0","console","error","stop","_x","_x2","apply","arguments"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/api/index.tsx"],"sourcesContent":["import axios from 'axios'\n\nconst baseURL = 'http://dev-api.jooda.org/api/v1/'\n// const baseURL = 'http://localhost:8000/api/v1/'\n// const baseURL = 'https://api.jooda.org/api/v1/'\n\nexport const instance = axios.create({\n  baseURL,\n})\n\nexport const setAuthToken = (token: string): void => {\n  localStorage.setItem('token', token)\n  instance.defaults.headers.common['Authorization'] = token\n}\n\nexport const LogIn = async (idData: string, pwData: string) => {\n  try {\n    const response = await instance.post('administrators/accounts/login/', {\n      id: idData,\n      password: pwData,\n    })\n    setAuthToken(response.data.payload.admin_account_info.authorization_token)\n\n    return response.data\n  } catch (error) {\n    console.error(error)\n  }\n}\n"],"mappings":"wRAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,GAAM,CAAAC,OAAO,CAAG,kCAAkC,CAClD;AACA;AAEA,MAAO,IAAM,CAAAC,QAAQ,CAAGF,KAAK,CAACG,MAAM,CAAC,CACnCF,OAAO,CAAPA,OACF,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAa,CAAW,CACnDC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,KAAK,CAAC,CACpCH,QAAQ,CAACM,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAGL,KAAK,CAC3D,CAAC,CAED,MAAO,IAAM,CAAAM,KAAK,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAc,CAAEC,MAAc,MAAAC,QAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE/B,CAAAtB,QAAQ,CAACuB,IAAI,CAAC,gCAAgC,CAAE,CACrEC,EAAE,CAAET,MAAM,CACVU,QAAQ,CAAET,MACZ,CAAC,CAAC,QAHIC,QAAQ,CAAAG,QAAA,CAAAM,IAAA,CAIdxB,YAAY,CAACe,QAAQ,CAACU,IAAI,CAACC,OAAO,CAACC,kBAAkB,CAACC,mBAAmB,CAAC,QAAAV,QAAA,CAAAW,MAAA,UAEnEd,QAAQ,CAACU,IAAI,SAAAP,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAEpBa,OAAO,CAACC,KAAK,CAAAd,QAAA,CAAAY,EAAA,CAAO,0BAAAZ,QAAA,CAAAe,IAAA,MAAArB,OAAA,gBAEvB,kBAZY,CAAAL,KAAKA,CAAA2B,EAAA,CAAAC,GAAA,SAAA3B,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OAYjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}