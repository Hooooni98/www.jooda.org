{"ast":null,"code":"var _jsxFileName = \"/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/admin-pages/admin-nav/admin-information/pastor/patch-modal/order/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { setAuthToken } from \"../../../../../../api\";\nimport { getPastor } from \"../../../../../../api/admin-pastor\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  width: 100%;\n  min-height: 100vh;\n  background: #F0F1F3;\n`;\n_c = Container;\nexport const PatchModal = () => {\n  _s();\n  const [offset, setOffset] = useState(0);\n  const [hasMore, setHasMore] = useState(true);\n  const [totalCount, setTotalCount] = useState(0);\n  const limit = useRef(1);\n  // const [totalCount, setTotalCount] = useState(0)\n  const [pastors, setPastors] = useState([{\n    church_pastor_id: \"\",\n    name: \"\",\n    role: \"\",\n    image: \"\"\n  }]);\n  const loadMoreItem = async () => {\n    setOffset(offset + limit.current);\n    const response = await getPastor(offset + limit.current);\n    console.log(response.payload.church_pastor_list.results);\n    setPastors([...pastors, response.payload.church_pastor_list.results]);\n  };\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      setAuthToken(token);\n    }\n    const fetchData = async () => {\n      const response = await getPastor(0);\n      setPastors(response.payload.church_pastor_list.results);\n      // console.log(response.payload.church_pastor_list.results)\n      setTotalCount(response.payload.church_pastor_list.total_count);\n      if (response.payload.church_pastor_list.total_count < limit.current + offset) {\n        setHasMore(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // console.log(pastors)\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#F0F1F3\",\n        paddingTop: \"54px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: totalCount //This is important field to render the next data\n      ,\n      next: loadMoreItem,\n      hasMore: hasMore,\n      loader: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n      // endMessage={\n      //   <p style={{ textAlign: 'center' }}>\n      //     <b>Yay! You have seen it all</b>\n      //   </p>\n      // }\n      // below props only if you need pull down functionality\n      // refreshFunction={refresh}\n      // pullDownToRefresh\n      ,\n      pullDownToRefreshThreshold: 50,\n      pullDownToRefreshContent: /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"\\u2193 Pull down to refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this),\n      releaseToRefreshContent: /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"\\u2191 Release to refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this),\n      children: pastors && pastors.map(pastor => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: pastor.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 57\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(PatchModal, \"iPP4EFWV1PzKax1FofOpzIPcHbs=\");\n_c2 = PatchModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"PatchModal\");","map":{"version":3,"names":["React","useEffect","useRef","useState","styled","InfiniteScroll","setAuthToken","getPastor","jsxDEV","_jsxDEV","Container","div","_c","PatchModal","_s","offset","setOffset","hasMore","setHasMore","totalCount","setTotalCount","limit","pastors","setPastors","church_pastor_id","name","role","image","loadMoreItem","current","response","console","log","payload","church_pastor_list","results","token","localStorage","getItem","fetchData","total_count","children","style","background","paddingTop","fileName","_jsxFileName","lineNumber","columnNumber","dataLength","next","loader","pullDownToRefreshThreshold","pullDownToRefreshContent","textAlign","releaseToRefreshContent","map","pastor","_c2","$RefreshReg$"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/admin-pages/admin-nav/admin-information/pastor/patch-modal/order/index.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { setAuthToken } from \"../../../../../../api\";\nimport { getPastor } from \"../../../../../../api/admin-pastor\";\n\nconst Container = styled.div`\n  width: 100%;\n  min-height: 100vh;\n  background: #F0F1F3;\n`;\n\ninterface PastorData {\n    church_pastor_id: string;\n    name: string;\n    role: string;\n    image: string;\n}\n  \nexport const PatchModal: React.FC = () => {\n  const [offset, setOffset] = useState(0)\n  const [hasMore, setHasMore] = useState(true)\n  const [totalCount, setTotalCount] = useState(0)\n  const limit = useRef(1)\n  // const [totalCount, setTotalCount] = useState(0)\n  const [pastors, setPastors] = useState<Array<PastorData>>([{\n      church_pastor_id:\"\",\n      name:\"\",\n      role:\"\",\n      image:\"\",\n  }])\n\n  const loadMoreItem = async () => {\n    setOffset(offset + limit.current)\n    const response = await getPastor(offset + limit.current);\n    console.log(response.payload.church_pastor_list.results)\n    setPastors([...pastors,response.payload.church_pastor_list.results]);\n  }\n\n  useEffect(() => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        setAuthToken(token);\n      }\n  \n      const fetchData = async () => {\n        const response = await getPastor(0);\n        setPastors(response.payload.church_pastor_list.results);\n        // console.log(response.payload.church_pastor_list.results)\n        setTotalCount(response.payload.church_pastor_list.total_count)\n        if (response.payload.church_pastor_list.total_count < limit.current + offset) {\n          setHasMore(false)\n        }\n      };\n      fetchData();\n  }, []);\n\n  // console.log(pastors)\n  \n  return (\n    <Container>\n      <div style={{ background: \"#F0F1F3\", paddingTop: \"54px\" }}></div>\n      <InfiniteScroll\n        dataLength={totalCount} //This is important field to render the next data\n        next={loadMoreItem}\n        hasMore={hasMore}\n        loader={<h4>Loading...</h4>}\n        // endMessage={\n        //   <p style={{ textAlign: 'center' }}>\n        //     <b>Yay! You have seen it all</b>\n        //   </p>\n        // }\n        // below props only if you need pull down functionality\n        // refreshFunction={refresh}\n        // pullDownToRefresh\n        pullDownToRefreshThreshold={50}\n        pullDownToRefreshContent={\n          <h3 style={{ textAlign: 'center' }}>&#8595; Pull down to refresh</h3>\n        }\n        releaseToRefreshContent={\n          <h3 style={{ textAlign: 'center' }}>&#8593; Release to refresh</h3>\n        }\n          >\n          {pastors && pastors.map((pastor) => { return (<div>{pastor.name}</div>) })}\n      </InfiniteScroll>\n    </Container>\n  );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}