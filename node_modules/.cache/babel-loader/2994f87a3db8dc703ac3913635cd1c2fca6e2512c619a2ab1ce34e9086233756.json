{"ast":null,"code":"import _slicedToArray from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from'react';export var usePage=function usePage(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),maxPage=_useState2[0],setMaxPage=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState([1,2,3,4,5,6,7,8,9]),_useState6=_slicedToArray(_useState5,2),pageList=_useState6[0],setPageList=_useState6[1];var isOverNine=useRef(false);useEffect(function(){if(maxPage<9){setPageList([1,2,3,4,5,6,7,8,9].slice(0,maxPage));}else{setPageList([1,2,3,4,5,6,7,8,9]);isOverNine.current=true;}},[maxPage]);var getPrevPage=function getPrevPage(){if(currentPage!==1){setCurrentPage(currentPage-1);if(isOverNine.current&&pageList[0]>1&&currentPage<=pageList[4]){setPageList([pageList[0]-1].concat(pageList.slice(0,pageList.length-1)));}}};var getNextPage=function getNextPage(){if(currentPage!==maxPage){setCurrentPage(currentPage+1);if(isOverNine.current&&pageList[8]<maxPage&&pageList[4]<=currentPage){setPageList(pageList.slice(1,9).concat([pageList[8]+1]));}}};var clickPage=function clickPage(index){if(currentPage===index){return;}if(!isOverNine.current&&maxPage!==0){setCurrentPage(index);}else{var currentMaxPage=index+4;var currentMinPage=index-4;if(maxPage<currentMaxPage){currentMinPage=currentMinPage-(currentMaxPage-maxPage);currentMaxPage=maxPage;}else if(currentMinPage<1){currentMaxPage=9;currentMinPage=1;}var result=[];for(var i=currentMinPage;i<=currentMaxPage;i++){result.push(i);}setPageList(result);setCurrentPage(index);}};return{pageList:pageList,currentPage:currentPage,maxPage:maxPage,getPrevPage:getPrevPage,getNextPage:getNextPage,clickPage:clickPage,setMaxPage:setMaxPage};};","map":{"version":3,"names":["useEffect","useRef","useState","usePage","_useState","_useState2","_slicedToArray","maxPage","setMaxPage","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","pageList","setPageList","isOverNine","slice","current","getPrevPage","concat","length","getNextPage","clickPage","index","currentMaxPage","currentMinPage","result","i","push"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/hooks/usePage.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\n\nexport const usePage = () => {\n  const [maxPage, setMaxPage] = useState(0)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [pageList, setPageList] = useState<Array<number>>([\n    1, 2, 3, 4, 5, 6, 7, 8, 9,\n  ])\n  const isOverNine = useRef<boolean>(false)\n\n  useEffect(() => {\n    if (maxPage < 9) {\n      setPageList([1, 2, 3, 4, 5, 6, 7, 8, 9].slice(0, maxPage))\n    } else {\n      setPageList([1, 2, 3, 4, 5, 6, 7, 8, 9])\n      isOverNine.current = true\n    }\n  }, [maxPage])\n\n  const getPrevPage = () => {\n    if (currentPage !== 1) {\n      setCurrentPage(currentPage - 1)\n      if (isOverNine.current && pageList[0] > 1 && currentPage <= pageList[4]) {\n        setPageList(\n          [pageList[0] - 1].concat(pageList.slice(0, pageList.length - 1))\n        )\n      }\n    }\n  }\n  const getNextPage = () => {\n    if (currentPage !== maxPage) {\n      setCurrentPage(currentPage + 1)\n      if (\n        isOverNine.current &&\n        pageList[8] < maxPage &&\n        pageList[4] <= currentPage\n      ) {\n        setPageList(pageList.slice(1, 9).concat([pageList[8] + 1]))\n      }\n    }\n  }\n  const clickPage = (index: number) => {\n    if (currentPage === index) {\n      return\n    }\n    if (!isOverNine.current && maxPage !== 0) {\n      setCurrentPage(index)\n    } else {\n      var currentMaxPage = index + 4\n      var currentMinPage = index - 4\n      if (maxPage < currentMaxPage) {\n        currentMinPage = currentMinPage - (currentMaxPage - maxPage)\n        currentMaxPage = maxPage\n      } else if (currentMinPage < 1) {\n        currentMaxPage = 9\n        currentMinPage = 1\n      }\n      const result = []\n      for (let i = currentMinPage; i <= currentMaxPage; i++) {\n        result.push(i)\n      }\n      setPageList(result)\n      setCurrentPage(index)\n    }\n  }\n\n  return {\n    pageList,\n    currentPage,\n    maxPage,\n    getPrevPage,\n    getNextPage,\n    clickPage,\n    setMaxPage,\n  }\n}\n"],"mappings":"oIAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAEnD,MAAO,IAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAC3B,IAAAC,SAAA,CAA8BF,QAAQ,CAAC,CAAC,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAsCP,QAAQ,CAAC,CAAC,CAAC,CAAAQ,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA1CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAgCX,QAAQ,CAAgB,CACtD,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAC1B,CAAC,CAAAY,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAFKE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAG5B,GAAM,CAAAG,UAAU,CAAGhB,MAAM,CAAU,KAAK,CAAC,CAEzCD,SAAS,CAAC,UAAM,CACd,GAAIO,OAAO,CAAG,CAAC,CAAE,CACfS,WAAW,CAAC,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC,CAAEX,OAAO,CAAC,CAAC,CAC5D,CAAC,IAAM,CACLS,WAAW,CAAC,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAC,CACxCC,UAAU,CAACE,OAAO,CAAG,IAAI,CAC3B,CACF,CAAC,CAAE,CAACZ,OAAO,CAAC,CAAC,CAEb,GAAM,CAAAa,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,GAAIT,WAAW,GAAK,CAAC,CAAE,CACrBC,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CAC/B,GAAIM,UAAU,CAACE,OAAO,EAAIJ,QAAQ,CAAC,CAAC,CAAC,CAAG,CAAC,EAAIJ,WAAW,EAAII,QAAQ,CAAC,CAAC,CAAC,CAAE,CACvEC,WAAW,CACT,CAACD,QAAQ,CAAC,CAAC,CAAC,CAAG,CAAC,CAAC,CAACM,MAAM,CAACN,QAAQ,CAACG,KAAK,CAAC,CAAC,CAAEH,QAAQ,CAACO,MAAM,CAAG,CAAC,CAAC,CAAC,CACjE,CACH,CACF,CACF,CAAC,CACD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,GAAIZ,WAAW,GAAKJ,OAAO,CAAE,CAC3BK,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CAC/B,GACEM,UAAU,CAACE,OAAO,EAClBJ,QAAQ,CAAC,CAAC,CAAC,CAAGR,OAAO,EACrBQ,QAAQ,CAAC,CAAC,CAAC,EAAIJ,WAAW,CAC1B,CACAK,WAAW,CAACD,QAAQ,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACG,MAAM,CAAC,CAACN,QAAQ,CAAC,CAAC,CAAC,CAAG,CAAC,CAAC,CAAC,CAAC,CAC7D,CACF,CACF,CAAC,CACD,GAAM,CAAAS,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,KAAa,CAAK,CACnC,GAAId,WAAW,GAAKc,KAAK,CAAE,CACzB,OACF,CACA,GAAI,CAACR,UAAU,CAACE,OAAO,EAAIZ,OAAO,GAAK,CAAC,CAAE,CACxCK,cAAc,CAACa,KAAK,CAAC,CACvB,CAAC,IAAM,CACL,GAAI,CAAAC,cAAc,CAAGD,KAAK,CAAG,CAAC,CAC9B,GAAI,CAAAE,cAAc,CAAGF,KAAK,CAAG,CAAC,CAC9B,GAAIlB,OAAO,CAAGmB,cAAc,CAAE,CAC5BC,cAAc,CAAGA,cAAc,EAAID,cAAc,CAAGnB,OAAO,CAAC,CAC5DmB,cAAc,CAAGnB,OAAO,CAC1B,CAAC,IAAM,IAAIoB,cAAc,CAAG,CAAC,CAAE,CAC7BD,cAAc,CAAG,CAAC,CAClBC,cAAc,CAAG,CAAC,CACpB,CACA,GAAM,CAAAC,MAAM,CAAG,EAAE,CACjB,IAAK,GAAI,CAAAC,CAAC,CAAGF,cAAc,CAAEE,CAAC,EAAIH,cAAc,CAAEG,CAAC,EAAE,CAAE,CACrDD,MAAM,CAACE,IAAI,CAACD,CAAC,CAAC,CAChB,CACAb,WAAW,CAACY,MAAM,CAAC,CACnBhB,cAAc,CAACa,KAAK,CAAC,CACvB,CACF,CAAC,CAED,MAAO,CACLV,QAAQ,CAARA,QAAQ,CACRJ,WAAW,CAAXA,WAAW,CACXJ,OAAO,CAAPA,OAAO,CACPa,WAAW,CAAXA,WAAW,CACXG,WAAW,CAAXA,WAAW,CACXC,SAAS,CAATA,SAAS,CACThB,UAAU,CAAVA,UACF,CAAC,CACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}