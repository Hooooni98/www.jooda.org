{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useState } from 'react';\nconst ableMatrixInit = [[true, true, true, true, true, true, true], [true, true, true, true, true, true, true], [true, true, true, true, true, true, true]];\nconst numRow = 3;\nexport const useWeek = (week, calendarList) => {\n  _s();\n  const [ableMatrix, setAbleMatrix] = useState(ableMatrixInit);\n  const [weekStartDate, setWeekStartDate] = useState('');\n  const [weekEndDate, setWeekEndDate] = useState('');\n  const [weekSchedule, setWeekSchedule] = useState([]);\n  const getWeekSchedule = useCallback(() => {\n    const week_schedule = [];\n    calendarList.map(schedule => {\n      if (weekStartDate.length !== 0 && weekEndDate.length !== 0) {\n        if (weekStartDate <= schedule.start_date && schedule.start_date <= weekEndDate || schedule.end_date.length !== 0 && weekStartDate <= schedule.end_date && schedule.end_date <= weekEndDate) {\n          week_schedule.push({\n            church_calendar_id: schedule.church_calendar_id,\n            title: schedule.title,\n            content: schedule.content,\n            start_date: weekStartDate > schedule.start_date ? weekStartDate : schedule.start_date,\n            end_date: weekEndDate < schedule.end_date ? weekEndDate : schedule.end_date,\n            is_current_month: schedule.is_current_month,\n            x: 0,\n            y: 0,\n            length: 0\n          });\n        }\n      }\n    });\n    setWeekSchedule(week_schedule);\n  }, [calendarList, weekEndDate, weekStartDate]);\n  const findLocationSchedule = useCallback(() => {\n    const week_schedule = [];\n    calendarList.map(schedule => {\n      if (weekStartDate.length !== 0 && weekEndDate.length !== 0) {\n        if (weekStartDate <= schedule.start_date && schedule.start_date <= weekEndDate || schedule.end_date.length !== 0 && weekStartDate <= schedule.end_date && schedule.end_date <= weekEndDate) {\n          week_schedule.push({\n            church_calendar_id: schedule.church_calendar_id,\n            title: schedule.title,\n            content: schedule.content,\n            start_date: weekStartDate > schedule.start_date ? weekStartDate : schedule.start_date,\n            end_date: weekEndDate < schedule.end_date ? weekEndDate : schedule.end_date,\n            is_current_month: schedule.is_current_month,\n            x: 0,\n            y: 0,\n            length: 0\n          });\n        }\n      }\n    });\n    setWeekSchedule(week_schedule);\n  }, [ableMatrix, calendarList, weekSchedule]);\n  useEffect(() => {\n    var start_year = week[0].year.toString();\n    var start_month = week[0].month.toString();\n    start_month = start_month.length === 2 ? start_month : '0' + start_month;\n    var start_date = week[0].date.toString();\n    start_date = start_date.length === 2 ? start_date : '0' + start_date;\n    setWeekStartDate(start_year + '-' + start_month + '-' + start_date);\n    var end_year = week[6].year.toString();\n    var end_month = week[6].month.toString();\n    end_month = end_month.length === 2 ? end_month : '0' + end_month;\n    var end_date = week[6].date.toString();\n    end_date = end_date.length === 2 ? end_date : '0' + end_date;\n    setWeekEndDate(end_year + '-' + end_month + '-' + end_date);\n  }, [week]);\n  useEffect(() => {\n    if (weekStartDate.length !== 0 && weekEndDate.length !== 0) {\n      getWeekSchedule();\n    }\n  }, [weekStartDate, weekEndDate, getWeekSchedule]);\n  useEffect(() => {\n    if (weekSchedule.length !== 0) {\n      findLocationSchedule();\n    }\n  }, [weekSchedule]);\n  return {\n    weekSchedule\n  };\n};\n_s(useWeek, \"xrJwuAJGQ3n6e/Xrx4TkD8O1kHQ=\");","map":{"version":3,"names":["useCallback","useEffect","useState","ableMatrixInit","numRow","useWeek","week","calendarList","_s","ableMatrix","setAbleMatrix","weekStartDate","setWeekStartDate","weekEndDate","setWeekEndDate","weekSchedule","setWeekSchedule","getWeekSchedule","week_schedule","map","schedule","length","start_date","end_date","push","church_calendar_id","title","content","is_current_month","x","y","findLocationSchedule","start_year","year","toString","start_month","month","date","end_year","end_month"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/hooks/useWeek.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react'\n\ninterface Date {\n  date: number\n  month: number\n  year: number\n}\ninterface ReturnCalendarList {\n  church_calendar_id: string\n  title: string\n  content: string\n  start_date: string\n  end_date: string\n  is_current_month: boolean\n  x: number\n  y: number\n  length: number\n}\n\ninterface CalendarList {\n  church_calendar_id: string\n  title: string\n  content: string\n  start_date: string\n  end_date: string\n  is_current_month: boolean\n}\n\nconst ableMatrixInit = [\n  [true, true, true, true, true, true, true],\n  [true, true, true, true, true, true, true],\n  [true, true, true, true, true, true, true],\n]\nconst numRow = 3\nexport const useWeek = (\n  week: Array<Date>,\n  calendarList: Array<CalendarList>\n) => {\n  const [ableMatrix, setAbleMatrix] = useState<boolean[][]>(ableMatrixInit)\n  const [weekStartDate, setWeekStartDate] = useState<string>('')\n  const [weekEndDate, setWeekEndDate] = useState<string>('')\n  const [weekSchedule, setWeekSchedule] = useState<ReturnCalendarList[]>([])\n\n  const getWeekSchedule = useCallback(() => {\n    const week_schedule: ReturnCalendarList[] = []\n    calendarList.map(schedule => {\n      if (weekStartDate.length !== 0 && weekEndDate.length !== 0) {\n        if (\n          (weekStartDate <= schedule.start_date &&\n            schedule.start_date <= weekEndDate) ||\n          (schedule.end_date.length !== 0 &&\n            weekStartDate <= schedule.end_date &&\n            schedule.end_date <= weekEndDate)\n        ) {\n          week_schedule.push({\n            church_calendar_id: schedule.church_calendar_id,\n            title: schedule.title,\n            content: schedule.content,\n            start_date:\n              weekStartDate > schedule.start_date\n                ? weekStartDate\n                : schedule.start_date,\n            end_date:\n              weekEndDate < schedule.end_date ? weekEndDate : schedule.end_date,\n            is_current_month: schedule.is_current_month,\n            x: 0,\n            y: 0,\n            length: 0,\n          })\n        }\n      }\n    })\n\n    setWeekSchedule(week_schedule)\n  }, [calendarList, weekEndDate, weekStartDate])\n\n  const findLocationSchedule = useCallback(() => {\n    const week_schedule: ReturnCalendarList[] = []\n    calendarList.map(schedule => {\n      if (weekStartDate.length !== 0 && weekEndDate.length !== 0) {\n        if (\n          (weekStartDate <= schedule.start_date &&\n            schedule.start_date <= weekEndDate) ||\n          (schedule.end_date.length !== 0 &&\n            weekStartDate <= schedule.end_date &&\n            schedule.end_date <= weekEndDate)\n        ) {\n          week_schedule.push({\n            church_calendar_id: schedule.church_calendar_id,\n            title: schedule.title,\n            content: schedule.content,\n            start_date:\n              weekStartDate > schedule.start_date\n                ? weekStartDate\n                : schedule.start_date,\n            end_date:\n              weekEndDate < schedule.end_date ? weekEndDate : schedule.end_date,\n            is_current_month: schedule.is_current_month,\n            x: 0,\n            y: 0,\n            length: 0,\n          })\n        }\n      }\n    })\n\n    setWeekSchedule(week_schedule)\n  }, [ableMatrix, calendarList, weekSchedule])\n\n  useEffect(() => {\n    var start_year = week[0].year.toString()\n    var start_month = week[0].month.toString()\n    start_month = start_month.length === 2 ? start_month : '0' + start_month\n    var start_date = week[0].date.toString()\n    start_date = start_date.length === 2 ? start_date : '0' + start_date\n    setWeekStartDate(start_year + '-' + start_month + '-' + start_date)\n    var end_year = week[6].year.toString()\n    var end_month = week[6].month.toString()\n    end_month = end_month.length === 2 ? end_month : '0' + end_month\n    var end_date = week[6].date.toString()\n    end_date = end_date.length === 2 ? end_date : '0' + end_date\n    setWeekEndDate(end_year + '-' + end_month + '-' + end_date)\n  }, [week])\n\n  useEffect(() => {\n    if (weekStartDate.length !== 0 && weekEndDate.length !== 0) {\n      getWeekSchedule()\n    }\n  }, [weekStartDate, weekEndDate, getWeekSchedule])\n\n  useEffect(() => {\n    if (weekSchedule.length !== 0) {\n      findLocationSchedule()\n    }\n  }, [weekSchedule])\n  return { weekSchedule }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}