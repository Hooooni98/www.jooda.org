{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/hooni/Desktop/upten/jooda/www.jooda.org/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useEffect,useState}from'react';import{InnerBoxContainer,InnerBoxHeader,InnerBoxTitle,MainContainer,Margin36,SubTitle}from'../../../../../component/styledComponent';import{useMonth}from'../../../../../hooks/useMonth';import{WeekView}from'./week';import styled from'styled-components';import{setAuthToken}from'../../../../../api';import{getCalendar}from'../../../../../api/admin-calendar';import{useErrorNavigator}from'../../../../../error-pages/useErrorNavigator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WeekHeader=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 48px;\\n  display: flex;\\n  flex-direction: row;\\n\"])));var WeekHeaderText=styled.text(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 128px;\\n  font-family: 'Spoqa Han Sans Neo', 'Apple SD Gothic Neo';\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 16px;\\n  line-height: 24px;\\n\"])));var Calendar=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-left: calc(50% - 448px);\\n\"])));export var CalendarHeader=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row\\n  min-width: 884px;\\n\"])));var ArrowImage=styled.image(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 24px;\\n  height: 24px;\\n  margin-bottom: 36px;\\n  margin-left: 8px;\\n\"])));var weekHeader=['일','월','화','수','목','금','토'];export var CalendarView=function CalendarView(props){var refresh=props.refresh,setRefresh=props.setRefresh;var errorNavigator=useErrorNavigator();var _useMonth=useMonth(),weekList=_useMonth.weekList,year=_useMonth.year,month=_useMonth.month,setYear=_useMonth.setYear,setMonth=_useMonth.setMonth;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),calendarList=_useState2[0],setCalendarList=_useState2[1];useEffect(function(){var token=localStorage.getItem('token');if(token){setAuthToken(token);}var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getCalendar(year,month);case 2:response=_context.sent;errorNavigator.navigate(response);setCalendarList(response.payload.church_calendar_list);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[year,month,refresh]);return/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(InnerBoxHeader,{children:/*#__PURE__*/_jsx(InnerBoxTitle,{children:\"\\uB2EC\\uB825\"})}),/*#__PURE__*/_jsxs(InnerBoxContainer,{children:[/*#__PURE__*/_jsx(Margin36,{}),/*#__PURE__*/_jsxs(Calendar,{children:[/*#__PURE__*/_jsxs(CalendarHeader,{children:[/*#__PURE__*/_jsxs(SubTitle,{children:[year,\"\\uB144 \",month,\"\\uC6D4\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:'730px'},children:[/*#__PURE__*/_jsx(ArrowImage,{children:/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return setMonth(month-1);},src:'/source/icon/arrow_left_dark.svg',alt:\"information\"})}),/*#__PURE__*/_jsx(ArrowImage,{children:/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return setMonth(month+1);},src:'/source/icon/arrow_right_dark.svg',alt:\"information\"})})]})]}),/*#__PURE__*/_jsx(Margin36,{}),/*#__PURE__*/_jsx(WeekHeader,{children:weekHeader.map(function(haederText,index){return/*#__PURE__*/_jsx(WeekHeaderText,{children:haederText},index);})}),weekList&&weekList.map(function(week,index){return/*#__PURE__*/_jsx(WeekView,{refresh:refresh,setRefresh:setRefresh,week:week,year:year,month:month,calendar_list:calendarList},index);})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'24px'}})]});};","map":{"version":3,"names":["React","useEffect","useState","InnerBoxContainer","InnerBoxHeader","InnerBoxTitle","MainContainer","Margin36","SubTitle","useMonth","WeekView","styled","setAuthToken","getCalendar","useErrorNavigator","jsx","_jsx","jsxs","_jsxs","WeekHeader","div","_templateObject","_taggedTemplateLiteral","WeekHeaderText","text","_templateObject2","Calendar","_templateObject3","CalendarHeader","_templateObject4","ArrowImage","image","_templateObject5","weekHeader","CalendarView","props","refresh","setRefresh","errorNavigator","_useMonth","weekList","year","month","setYear","setMonth","_useState","_useState2","_slicedToArray","calendarList","setCalendarList","token","localStorage","getItem","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","navigate","payload","church_calendar_list","stop","apply","arguments","children","style","marginLeft","onClick","src","alt","map","haederText","index","week","calendar_list","paddingTop"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/admin-pages/admin-nav/admin-schedule/calendar/view/index.tsx"],"sourcesContent":["import React, { Dispatch, SetStateAction, useEffect, useState } from 'react'\nimport {\n  InnerBoxContainer,\n  InnerBoxHeader,\n  InnerBoxTitle,\n  MainContainer,\n  Margin36,\n  SubTitle,\n} from '../../../../../component/styledComponent'\nimport { Date, useMonth } from '../../../../../hooks/useMonth'\nimport { WeekView } from './week'\nimport styled from 'styled-components'\nimport { setAuthToken } from '../../../../../api'\nimport { getCalendar } from '../../../../../api/admin-calendar'\nimport { useErrorNavigator } from '../../../../../error-pages/useErrorNavigator'\n\nconst WeekHeader = styled.div`\n  height: 48px;\n  display: flex;\n  flex-direction: row;\n`\nconst WeekHeaderText = styled.text`\n  width: 128px;\n  font-family: 'Spoqa Han Sans Neo', 'Apple SD Gothic Neo';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 24px;\n`\nconst Calendar = styled.div`\n  margin-left: calc(50% - 448px);\n`\n\nexport const CalendarHeader = styled.div`\n  display: flex;\n  flex-direction: row\n  min-width: 884px;\n`\nconst ArrowImage = styled.image`\n  width: 24px;\n  height: 24px;\n  margin-bottom: 36px;\n  margin-left: 8px;\n`\n\ninterface InnerCalendarProps {\n  refresh: boolean\n  setRefresh: Dispatch<SetStateAction<boolean>>\n}\n\nconst weekHeader = ['일', '월', '화', '수', '목', '금', '토']\nexport const CalendarView = (props: InnerCalendarProps) => {\n  const { refresh, setRefresh } = props\n  const errorNavigator = useErrorNavigator()\n  const { weekList, year, month, setYear, setMonth } = useMonth()\n  const [calendarList, setCalendarList] = useState([])\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    if (token) {\n      setAuthToken(token)\n    }\n    const fetchData = async () => {\n      const response = await getCalendar(year, month)\n      errorNavigator.navigate(response)\n      setCalendarList(response.payload.church_calendar_list)\n    }\n\n    fetchData()\n  }, [year, month, refresh])\n\n  return (\n    <MainContainer>\n      <InnerBoxHeader>\n        <InnerBoxTitle>달력</InnerBoxTitle>\n      </InnerBoxHeader>\n      <InnerBoxContainer>\n        <Margin36 />\n        <Calendar>\n          <CalendarHeader>\n            <SubTitle>\n              {year}년 {month}월\n            </SubTitle>\n            <div style={{ marginLeft: '730px' }}>\n              <ArrowImage>\n                <img\n                  onClick={() => setMonth(month - 1)}\n                  src={'/source/icon/arrow_left_dark.svg'}\n                  alt=\"information\"\n                />\n              </ArrowImage>\n              <ArrowImage>\n                <img\n                  onClick={() => setMonth(month + 1)}\n                  src={'/source/icon/arrow_right_dark.svg'}\n                  alt=\"information\"\n                />\n              </ArrowImage>\n            </div>\n          </CalendarHeader>\n\n          <Margin36 />\n          <WeekHeader>\n            {weekHeader.map((haederText, index) => {\n              return <WeekHeaderText key={index}>{haederText}</WeekHeaderText>\n            })}\n          </WeekHeader>\n          {weekList &&\n            weekList.map((week: Date[], index: number) => {\n              return (\n                <WeekView\n                  key={index}\n                  refresh={refresh}\n                  setRefresh={setRefresh}\n                  week={week}\n                  year={year}\n                  month={month}\n                  calendar_list={calendarList}\n                />\n              )\n            })}\n        </Calendar>\n      </InnerBoxContainer>\n      <div style={{ paddingTop: '24px' }} />\n    </MainContainer>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}