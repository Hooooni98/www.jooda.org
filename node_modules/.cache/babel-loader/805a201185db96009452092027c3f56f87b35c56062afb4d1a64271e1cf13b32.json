{"ast":null,"code":"import axios from 'axios';\nconst baseURL = 'http://dev-api.jooda.org/api/v1/';\n// const baseURL = 'http://localhost:8000/api/v1/'\n// const baseURL = 'https://api.jooda.org/api/v1/'\n\nexport const instance = axios.create({\n  baseURL\n});\ninstance.interceptors.response.use(response => {\n  return response;\n}, error => {\n  console.log(error.response.data.error_code);\n  return Promise.reject(error);\n});\nexport const setAuthToken = token => {\n  localStorage.setItem('token', token);\n  instance.defaults.headers.common['Authorization'] = token;\n};\nexport const LogIn = async (idData, pwData) => {\n  try {\n    const response = await instance.post('administrators/accounts/login/', {\n      id: idData,\n      password: pwData\n    });\n    setAuthToken(response.data.payload.admin_account_info.authorization_token);\n    return response.data;\n  } catch (error) {\n    console.log(error.response.data.error_code);\n  }\n};\n_c = LogIn;\nvar _c;\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["axios","baseURL","instance","create","interceptors","response","use","error","console","log","data","error_code","Promise","reject","setAuthToken","token","localStorage","setItem","defaults","headers","common","LogIn","idData","pwData","post","id","password","payload","admin_account_info","authorization_token","_c","$RefreshReg$"],"sources":["/Users/hooni/Desktop/upten/jooda/www.jooda.org/src/api/index.tsx"],"sourcesContent":["import axios from 'axios'\n\nconst baseURL = 'http://dev-api.jooda.org/api/v1/'\n// const baseURL = 'http://localhost:8000/api/v1/'\n// const baseURL = 'https://api.jooda.org/api/v1/'\n\nexport const instance = axios.create({\n  baseURL,\n})\n\ninstance.interceptors.response.use(\n  response => {\n    return response\n  },\n  error => {\n    console.log(error.response.data.error_code)\n    return Promise.reject(error)\n  }\n)\n\nexport const setAuthToken = (token: string): void => {\n  localStorage.setItem('token', token)\n  instance.defaults.headers.common['Authorization'] = token\n}\n\nexport const LogIn = async (idData: string, pwData: string) => {\n  try {\n    const response = await instance.post('administrators/accounts/login/', {\n      id: idData,\n      password: pwData,\n    })\n    setAuthToken(response.data.payload.admin_account_info.authorization_token)\n\n    return response.data\n  } catch (error: any) {\n    console.log(error.response.data.error_code)\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,kCAAkC;AAClD;AACA;;AAEA,OAAO,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC;EACnCF;AACF,CAAC,CAAC;AAEFC,QAAQ,CAACE,YAAY,CAACC,QAAQ,CAACC,GAAG,CAChCD,QAAQ,IAAI;EACV,OAAOA,QAAQ;AACjB,CAAC,EACDE,KAAK,IAAI;EACPC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACF,QAAQ,CAACK,IAAI,CAACC,UAAU,CAAC;EAC3C,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,OAAO,MAAMO,YAAY,GAAIC,KAAa,IAAW;EACnDC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;EACpCb,QAAQ,CAACgB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAGL,KAAK;AAC3D,CAAC;AAED,OAAO,MAAMM,KAAK,GAAG,MAAAA,CAAOC,MAAc,EAAEC,MAAc,KAAK;EAC7D,IAAI;IACF,MAAMlB,QAAQ,GAAG,MAAMH,QAAQ,CAACsB,IAAI,CAAC,gCAAgC,EAAE;MACrEC,EAAE,EAAEH,MAAM;MACVI,QAAQ,EAAEH;IACZ,CAAC,CAAC;IACFT,YAAY,CAACT,QAAQ,CAACK,IAAI,CAACiB,OAAO,CAACC,kBAAkB,CAACC,mBAAmB,CAAC;IAE1E,OAAOxB,QAAQ,CAACK,IAAI;EACtB,CAAC,CAAC,OAAOH,KAAU,EAAE;IACnBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACF,QAAQ,CAACK,IAAI,CAACC,UAAU,CAAC;EAC7C;AACF,CAAC;AAAAmB,EAAA,GAZYT,KAAK;AAAA,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}